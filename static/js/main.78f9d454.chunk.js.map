{"version":3,"sources":["components/VideoItem/style.module.scss","pages/HomePage/style.module.scss","pages/PlayPage/style.module.scss","components/Pagination/style.module.scss","pages/FavoritePage/style.module.scss","App.module.scss","components/NavHeader/style.module.scss","components/NavHeader/index.js","components/VideoItem/index.js","components/Pagination/index.js","pages/HomePage/index.js","pages/PlayPage/index.js","pages/FavoritePage/index.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","NavHeader","className","style","to","timeFormat","timeStr","result","slice","test","replace","VideoItem","onClick","isFavorited","props","id","snippet","title","thumbnails","description","duration","contentDetails","alt","img","data-duration","backgroundImage","standard","url","default","favorited","btn","bind","this","Pagination","page","lastPage","searchText","withSearch","Array","keys","map","i","cx","current","KEY","process","MAX","Math","ceil","SEARCH_URL","POPULAR_URL","_videoList","fetchVideo","URL","cb","nextPageToken","fetch","then","res","json","items","length","HomePage","inputDOM","useRef","history","useHistory","location","useLocation","useState","videoList","setVideoList","urlParams","URLSearchParams","search","get","Number","addFavorite","video","favoriteVideo","updateFavoriteVideo","updateVideoList","min","searchFetch","push","data","idList","videoId","join","useEffect","onSubmit","e","preventDefault","value","trim","required","type","ref","placeholder","disabled","loading","hasOwnProperty","VIDEO_URL","PlayPage","player","videoID","videoInfo","setVideoInfo","playing","setPlaying","enableAD","setEnableAD","handleSeek","sec","currentTime","getCurrentTime","seekTo","useLayoutEffect","Player","controls","playsinline","onPause","AD","FavoritePage","removeFavorite","Object","App","JSON","parse","localStorage","getItem","setFavoriteVideo","setItem","stringify","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.78f9d454.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"VideoItem\":\"style_VideoItem__22_xz\",\"img\":\"style_img__24CRZ\",\"title\":\"style_title__1oZt5\",\"description\":\"style_description__3aa3G\",\"favorited\":\"style_favorited__2OOzf\",\"btn\":\"style_btn__1SSum\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"HomePage\":\"style_HomePage__39HyE\",\"title\":\"style_title__2Kyhy\",\"loading\":\"style_loading__2xXeE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PlayPage\":\"style_PlayPage__3Nf3F\",\"Player\":\"style_Player__1FIqP\",\"AD\":\"style_AD__15s8F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Pagination\":\"style_Pagination__10Wd7\",\"current\":\"style_current__3I22t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FavoritePage\":\"style_FavoritePage__J8pii\",\"title\":\"style_title__3xUe5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__15LM-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavHeader\":\"style_NavHeader__4JH-_\"};","/** 套件 */\nimport { Link } from \"react-router-dom\";\n\n/** 樣式 */\nimport style from './style.module.scss';\n\nexport const NavHeader = () => {\n  return (\n    <ul className={style.NavHeader}>\n      <li><Link to=\"/\">首頁</Link></li>\n      <li><Link to=\"/favorite\">收藏頁</Link></li>\n    </ul>\n  )\n}\n","/** 套件 */\nimport { Link } from \"react-router-dom\";\n\n/** 樣式 */\nimport style from './style.module.scss';\n\nconst timeFormat = timeStr => {\n  const result = timeStr.slice(2).slice(0, -1);\n  return /M/.test(result) ?\n    result.replace('M', \":\"):\n    `0:${result}`;\n}\n\nexport function VideoItem({onClick, isFavorited, ...props}) {\n  const {\n    id,\n    snippet: {\n      title, \n      thumbnails,\n      description,\n    },\n    contentDetails: {\n      duration\n    },\n  } = props;\n  return (\n    <div className={style.VideoItem}>\n      <Link to={`/play?id=${id}`}>\n        <div\n          alt={title}\n          className={style.img}\n          data-duration={timeFormat(duration)}\n          style={{\n            backgroundImage: `url(${thumbnails.standard?.url || thumbnails.default.url})`\n          }}\n        />\n        <div className={style.title}>{title}</div>\n        <div className={style.description}>{description}</div>\n      </Link>\n      {isFavorited ?\n        <span className={style.favorited}>已收藏</span>:\n        <button\n          className={style.btn}\n          onClick={onClick.bind(this, props)}\n        >收藏</button>\n      }\n    </div>\n  )\n}\n","/** 套件 */\nimport cx from 'classnames';\nimport { Link } from \"react-router-dom\";\n\nimport style from './style.module.scss';\n\nexport const Pagination = ({ page, lastPage, searchText }) => {\n  const withSearch = searchText ? `&searchText=${searchText}`: '';\n  return (\n    <ul className={style.Pagination}>\n      <li>{page > 1 && <Link to={`/?page=${page - 1}${withSearch}`}>«</Link>}</li>\n      {[...Array(lastPage).keys()].map(i =>\n        <li key={i}>\n          <Link\n            to={`/?page=${i + 1}${withSearch}`}\n            className={cx({\n              [style.current]: page === i + 1\n            })}\n          >{i + 1}</Link>\n        </li>\n      )}\n      <li>{page < lastPage && <Link to={`/?page=${page + 1}${withSearch}`}>»</Link>}</li>\n    </ul>\n  )\n}\n","/** 套件 */\nimport { useEffect, useState, useRef } from 'react';\nimport { useLocation, useHistory } from \"react-router-dom\";\n\n/** 自訂元件 */\nimport {\n  VideoItem,\n  Pagination,\n} from \"components\";\n\n/** 樣式 */\nimport style from './style.module.scss';\n\n/** 環境變數 */\nconst { REACT_APP_KEY: KEY } = process.env;\n\nconst MAX = 100;\nconst PAGESIZE = 12;\nlet lastPage = Math.ceil(MAX / PAGESIZE);\nconst SEARCH_URL = `https://www.googleapis.com/youtube/v3/search?key=${KEY}&maxResults=50&part=snippet&q=`;\nconst POPULAR_URL = `https://www.googleapis.com/youtube/v3/videos?key=${KEY}&maxResults=50&part=snippet,contentDetails,statistics`\n\nlet _videoList = [];\n\n/** 因為 youtube 有限制搜尋1次最多回傳50筆，所以需要重複搜尋，直到我們要的數量再停 */\nconst fetchVideo = (URL, cb, nextPageToken = '') => {\n  fetch(`${URL}${nextPageToken}`)\n    .then(res => res.json())\n    .then(({ items, nextPageToken }) => {\n      _videoList = [..._videoList, ...items];\n      if(_videoList.length < MAX && nextPageToken)\n        fetchVideo(URL, cb, `&pageToken=${nextPageToken}`);\n      else {\n        cb(_videoList);\n      }\n    });\n}\n\nexport const HomePage = props => {\n\n  const inputDOM = useRef();\n  const history = useHistory();\n  const location = useLocation();\n  const [ videoList, setVideoList ] = useState([]);\n\n  const urlParams = new URLSearchParams(location.search);\n  const searchText = urlParams.get('searchText');\n  const page = Number(urlParams.get('page') ?? 1);\n\n  const addFavorite = video => {\n    const { favoriteVideo } = props;\n    favoriteVideo[video.id] = video;\n    props.updateFavoriteVideo(favoriteVideo);\n  }\n\n  const updateVideoList = videoList => {\n    lastPage = Math.ceil(Math.min(MAX, _videoList.length) / PAGESIZE);\n    setVideoList(videoList);\n  }\n\n\n  const searchFetch = searchText => {\n    setVideoList([]);\n    _videoList = [];\n\n    history.push(`/?searchText=${searchText}`);\n    \n    fetchVideo(`${SEARCH_URL}${searchText}`, data => {\n      /** 因為使用 search 與 video api 拿到的資料結構不同，所以需要在資料搜集完畢時調整一次 id 的規格 */\n      const idList = data.map(({ id: { videoId}}) => videoId ).slice(0, 50).join(',');\n      _videoList = [];\n      fetchVideo(`${POPULAR_URL}&id=${idList}`, updateVideoList);\n    });\n  }\n\n  /** 加分題：搜尋, 但輸入空白不搜尋 */\n  const handleSerach = e => {\n    e.preventDefault();\n    const searchText = inputDOM.current.value.trim();\n    if(!searchText) return;\n\n    searchFetch(searchText);\n  }\n\n  /** 一進到首頁就取得熱門影片 */\n  useEffect(() => {\n    _videoList = [];\n    if(!searchText)\n      fetchVideo(`${POPULAR_URL}&chart=mostPopular`, updateVideoList);\n    else\n      searchFetch(searchText);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchText]);\n\n  return (\n    <div className={style.HomePage}>\n      <div className={style.title}>首頁</div>\n      <form onSubmit={handleSerach}>\n        <input\n          required\n          type=\"text\"\n          ref={inputDOM}\n          placeholder=\"搜尋...\"\n          disabled={videoList.length === 0}\n        />\n      </form>\n      {videoList.length > 1 && <Pagination {...{page, lastPage, searchText}} />}\n      {!videoList.length &&\n        <div className={style.loading}>\n          Loading\n        </div>\n      }\n      {videoList.slice((page - 1) * PAGESIZE, page * PAGESIZE).map(video =>\n        <VideoItem\n          key={video.id}\n          {...video}\n          onClick={addFavorite}\n          isFavorited={props.favoriteVideo.hasOwnProperty(video.id)}\n        />\n      )}\n      {videoList.length > 1 && <Pagination {...{page, lastPage, searchText}} />}\n    </div>\n  )\n}\n","/** 套件 */\nimport { useState, useLayoutEffect, useRef } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport ReactPlayer from 'react-player'\n\n/** 樣式 */\nimport style from \"./style.module.scss\";\n\n/** 環境變數 */\nconst { REACT_APP_KEY: KEY } = process.env;\n\nconst VIDEO_URL = `https://www.googleapis.com/youtube/v3/videos?key=${KEY}&part=snippet,contentDetails,statistics&id=`;\n\nexport const PlayPage = () => {\n\n  const player = useRef();\n  const location = useLocation();\n  const videoID = new URLSearchParams(location.search).get('id');\n  \n  const [ videoInfo, setVideoInfo ] = useState({});\n  const [ playing, setPlaying ] = useState(true);\n  const [ enableAD, setEnableAD ] = useState(false);\n\n  /** 回復播放並關閉廣告 */\n  const handleResume = () => {\n    setPlaying(true);\n    setEnableAD(false);\n  }\n\n  /** 暫停播放並打開廣告 */\n  const handlePause = () => {\n    setPlaying(false);\n    setEnableAD(true);\n  }\n\n  /** 影片 前進 / 後退 */\n  const handleSeek = sec => {\n    const currentTime = player.current.getCurrentTime();\n    player.current.seekTo(currentTime + sec, 'seconds');\n  }\n\n  /** 只抓必要的資訊進來就好 */\n  useLayoutEffect(() => {\n    fetch(`${VIDEO_URL}${videoID}`)\n      .then(res => res.json())\n      .then(({ items }) => {\n        setVideoInfo(items[0].snippet);\n      });\n  }, [videoID])\n\n  return (\n    <div className={style.PlayPage}>\n      <ul>\n        <li><Link to=\"/\">首頁</Link></li>\n        <li><Link to=\"/favorite\">收藏頁</Link></li>\n      </ul>\n      <h1>{videoInfo.title}</h1>\n      <div className={style.Player}>\n        <ReactPlayer\n          controls\n          playsinline\n          ref={player}\n          playing={playing}\n          onPause={handlePause}\n          url='https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8'\n        />\n        {enableAD &&\n          <div className={style.AD}>\n            <h3>AD</h3>\n            <button onClick={handleResume}>close AD</button>\n          </div>\n        }\n      </div>\n      <button onClick={handleSeek.bind(this, 15)}>forward 15sec</button>\n      <button onClick={handleSeek.bind(this, -15)}>back 15sec</button>\n      <div>{videoInfo.description}</div>\n    </div>\n  )\n}\n\n/** refs: https://github.com/cookpete/react-player/issues/724#issuecomment-541413917 */","/** 自訂元件 */\nimport { VideoItem } from \"components\";\n\n/** 樣式 */\nimport style from './style.module.scss';\n\nexport const FavoritePage = props => {\n\n  const { favoriteVideo, updateFavoriteVideo } = props;\n\n  const removeFavorite = video => {\n    delete favoriteVideo[video.id];\n    updateFavoriteVideo(favoriteVideo);\n  }\n\n  return (\n    <div className={style.FavoritePage}>\n      <div className={style.title}>收藏頁</div>\n      {Object.keys(favoriteVideo).map(videoID =>\n        <VideoItem\n          isFavorited\n          key={videoID}\n          {...favoriteVideo[videoID]}\n          onClick={removeFavorite}\n        />\n      )}\n    </div>\n  )\n}\n","import { useState } from \"react\";\n\nimport {\n  Route,\n  Switch,\n  HashRouter as Router,\n} from \"react-router-dom\";\nimport style from './App.module.scss';\n\n/** 頁面 */\nimport {\n  HomePage,\n  PlayPage,\n  FavoritePage,\n} from \"pages\";\n\n/** 自訂元件 */\nimport { NavHeader } from \"components\";\n\nfunction App() {\n\n  const [favoriteVideo, setFavoriteVideo] = useState(JSON.parse(localStorage.getItem('favoriteVideo')) ?? {});\n\n  const updateFavoriteVideo = favoriteVideo => {\n    localStorage.setItem('favoriteVideo', JSON.stringify(favoriteVideo));\n\n    /** 這邊使用 ... 來設定新的記憶體位置，不然不會觸發 render */\n    setFavoriteVideo({...favoriteVideo});\n  }\n\n  return (\n    <Router>\n      <NavHeader />\n      <div className={style.App}>\n        <Switch>\n          <Route exact path=\"/play\"><PlayPage /></Route>\n          <Route exact path=\"/favorite\">\n            <FavoritePage {...{ favoriteVideo, updateFavoriteVideo }} />\n          </Route>\n          <Route exact path=\"/\">\n            <HomePage {...{ favoriteVideo, updateFavoriteVideo }} />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  // <React.StrictMode>\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}