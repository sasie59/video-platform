{"version":3,"sources":["components/VideoItem/style.module.scss","pages/HomePage/style.module.scss","pages/PlayPage/style.module.scss","pages/FavoritePage/style.module.scss","App.module.scss","components/NavHeader/style.module.scss","components/Pagination/style.module.scss","components/NavHeader/index.js","components/VideoItem/index.js","components/Pagination/index.js","pages/HomePage/index.js","pages/PlayPage/index.js","pages/FavoritePage/index.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","NavHeader","className","style","to","VideoItem","onClick","isFavorited","props","id","snippet","title","image","thumbnails","maxres","url","description","duration","contentDetails","img","backgroundImage","alt","bind","this","Pagination","page","lastPage","Array","keys","map","i","KEY","process","MAX","Math","ceil","SEARCH_URL","POPULAR_URL","_videoList","fetchVideo","URL","cb","nextPageToken","fetch","then","res","json","items","length","HomePage","inputDOM","useRef","history","useHistory","location","useLocation","useState","videoList","setVideoList","urlParams","URLSearchParams","search","searchText","get","Number","addFavorite","video","favoriteVideo","updateFavoriteVideo","updateVideoList","min","searchFetch","push","data","idList","videoId","slice","join","useEffect","onSubmit","e","preventDefault","current","value","trim","required","type","ref","placeholder","disabled","loading","hasOwnProperty","VIDEO_URL","PlayPage","player","videoID","videoInfo","setVideoInfo","playing","setPlaying","enableAD","setEnableAD","handleSeek","sec","currentTime","getCurrentTime","seekTo","useLayoutEffect","Player","controls","playsinline","onPause","AD","FavoritePage","removeFavorite","Object","App","JSON","parse","localStorage","getItem","setFavoriteVideo","setItem","stringify","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ce958ba6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"VideoItem\":\"style_VideoItem__22_xz\",\"img\":\"style_img__24CRZ\",\"duration\":\"style_duration__2wVkD\",\"title\":\"style_title__1oZt5\",\"description\":\"style_description__3aa3G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"HomePage\":\"style_HomePage__39HyE\",\"title\":\"style_title__2Kyhy\",\"loading\":\"style_loading__2xXeE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PlayPage\":\"style_PlayPage__3Nf3F\",\"Player\":\"style_Player__1FIqP\",\"AD\":\"style_AD__15s8F\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FavoritePage\":\"style_FavoritePage__J8pii\",\"title\":\"style_title__3xUe5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__15LM-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavHeader\":\"style_NavHeader__4JH-_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Pagination\":\"style_Pagination__10Wd7\"};","/** 套件 */\nimport { Link } from \"react-router-dom\";\n\n/** 樣式 */\nimport style from './style.module.scss';\n\nexport const NavHeader = () => {\n  return (\n    <ul className={style.NavHeader}>\n      <li><Link to=\"/\">首頁</Link></li>\n      <li><Link to=\"/favorite\">收藏頁</Link></li>\n    </ul>\n  )\n}\n","/** 套件 */\nimport { Link } from \"react-router-dom\";\n\n/** 樣式 */\nimport style from './style.module.scss';\n\nexport function VideoItem({onClick, isFavorited, ...props}) {\n  const {\n    id,\n    snippet: {\n      title, \n      thumbnails: {\n        maxres: {\n          url: image\n        }\n      },\n      description,\n    },\n    contentDetails: {\n      duration\n    },\n  } = props;\n  return (\n    <div className={style.VideoItem}>\n      <Link to={`/play?id=${id}`}>\n        <div className={style.img} style={{\n          backgroundImage: `url(${image})`\n        }} alt={title} />\n        <div className={style.title}>{title}</div>\n        <div className={style.description}>{description}</div>\n        <div className={style.duration}>{duration}</div>\n      </Link>\n      {isFavorited ?\n        <span>已收藏</span>:\n        <button onClick={onClick.bind(this, props)}>收藏</button>\n      }\n    </div>\n  )\n}\n","/** 套件 */\nimport { Link } from \"react-router-dom\";\n\nimport style from './style.module.scss';\n\nexport const Pagination = ({ page, lastPage }) => {\n  return (\n    <ul className={style.Pagination}>\n      <li>{page > 1 && <Link to={`/?page=${page - 1}`}>上一頁</Link>}</li>\n      {[...Array(lastPage).keys()].map(i =>\n        <li key={i}><Link to={`/?page=${i + 1}`}>{i + 1}</Link></li>\n      )}\n      <li>{page < lastPage && <Link to={`/?page=${page + 1}`}>下一頁</Link>}</li>\n    </ul>\n  )\n}\n","/** 套件 */\nimport { useEffect, useState, useRef } from 'react';\nimport { useLocation, useHistory } from \"react-router-dom\";\n\n/** 自訂元件 */\nimport {\n  VideoItem,\n  Pagination,\n} from \"components\";\n\n/** 樣式 */\nimport style from './style.module.scss';\n\n/** 環境變數 */\nconst { REACT_APP_KEY: KEY } = process.env;\n\nconst MAX = 100;\nconst PAGESIZE = 12;\nlet lastPage = Math.ceil(MAX / PAGESIZE);\nconst SEARCH_URL = `https://www.googleapis.com/youtube/v3/search?key=${KEY}&maxResults=50&part=snippet&q=`;\nconst POPULAR_URL = `https://www.googleapis.com/youtube/v3/videos?key=${KEY}&maxResults=50&part=snippet,contentDetails,statistics`\n\nlet _videoList = [];\n\n/** 因為 youtube 有限制搜尋1次最多回傳50筆，所以需要重複搜尋，直到我們要的數量再停 */\nconst fetchVideo = (URL, cb, nextPageToken = '') => {\n  fetch(`${URL}${nextPageToken}`)\n    .then(res => res.json())\n    .then(({ items, nextPageToken }) => {\n      _videoList = [..._videoList, ...items];\n      if(_videoList.length < MAX && nextPageToken)\n        fetchVideo(URL, cb, `&pageToken=${nextPageToken}`);\n      else {\n        cb(_videoList);\n      }\n    });\n}\n\nexport const HomePage = props => {\n\n  const inputDOM = useRef();\n  const history = useHistory();\n  const location = useLocation();\n  const [ videoList, setVideoList ] = useState([]);\n\n  const urlParams = new URLSearchParams(location.search);\n  const searchText = urlParams.get('searchText');\n  const page = Number(urlParams.get('page') ?? 1);\n\n  const addFavorite = video => {\n    const { favoriteVideo } = props;\n    favoriteVideo[video.id] = video;\n    props.updateFavoriteVideo(favoriteVideo);\n  }\n\n  const updateVideoList = videoList => {\n    lastPage = Math.ceil(Math.min(MAX, _videoList.length) / PAGESIZE);\n    setVideoList(videoList);\n  }\n\n\n  const searchFetch = searchText => {\n    setVideoList([]);\n    _videoList = [];\n\n    history.push(`/?searchText=${searchText}`);\n    \n    fetchVideo(`${SEARCH_URL}${searchText}`, data => {\n      /** 因為使用 search 與 video api 拿到的資料結構不同，所以需要在資料搜集完畢時調整一次 id 的規格 */\n      const idList = data.map(({ id: { videoId}}) => videoId ).slice(0, 50).join(',');\n      _videoList = [];\n      fetchVideo(`${POPULAR_URL}&id=${idList}`, updateVideoList);\n    });\n  }\n\n  /** 加分題：搜尋, 但輸入空白不搜尋 */\n  const handleSerach = e => {\n    e.preventDefault();\n    const searchText = inputDOM.current.value.trim();\n    if(!searchText) return;\n\n    searchFetch(searchText);\n  }\n\n  /** 一進到首頁就取得熱門影片 */\n  useEffect(() => {\n    _videoList = [];\n    if(!searchText)\n      fetchVideo(`${POPULAR_URL}&chart=mostPopular`, updateVideoList);\n    else\n      searchFetch(searchText);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchText]);\n\n  return (\n    <div className={style.HomePage}>\n      <div className={style.title}>首頁</div>\n      <form onSubmit={handleSerach}>\n        <input\n          required\n          type=\"text\"\n          ref={inputDOM}\n          placeholder=\"搜尋...\"\n          disabled={videoList.length === 0}\n        />\n      </form>\n      {videoList.length > 1 && <Pagination {...{page, lastPage}} />}\n      {!videoList.length &&\n        <div className={style.loading}>\n          Loading\n        </div>\n      }\n      {videoList.slice((page - 1) * PAGESIZE, page * PAGESIZE).map(video =>\n        <VideoItem\n          key={video.id}\n          {...video}\n          onClick={addFavorite}\n          isFavorited={props.favoriteVideo.hasOwnProperty(video.id)}\n        />\n      )}\n    </div>\n  )\n}\n","/** 套件 */\nimport { useState, useLayoutEffect, useRef } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport ReactPlayer from 'react-player'\n\n/** 樣式 */\nimport style from \"./style.module.scss\";\n\n/** 環境變數 */\nconst { REACT_APP_KEY: KEY } = process.env;\n\nconst VIDEO_URL = `https://www.googleapis.com/youtube/v3/videos?key=${KEY}&part=snippet,contentDetails,statistics&id=`;\n\nexport const PlayPage = () => {\n\n  const player = useRef();\n  const location = useLocation();\n  const videoID = new URLSearchParams(location.search).get('id');\n  \n  const [ videoInfo, setVideoInfo ] = useState({});\n  const [ playing, setPlaying ] = useState(true);\n  const [ enableAD, setEnableAD ] = useState(false);\n\n  /** 回復播放並關閉廣告 */\n  const handleResume = () => {\n    setPlaying(true);\n    setEnableAD(false);\n  }\n\n  /** 暫停播放並打開廣告 */\n  const handlePause = () => {\n    setPlaying(false);\n    setEnableAD(true);\n  }\n\n  /** 影片 前進 / 後退 */\n  const handleSeek = sec => {\n    const currentTime = player.current.getCurrentTime();\n    player.current.seekTo(currentTime + sec, 'seconds');\n  }\n\n  /** 只抓必要的資訊進來就好 */\n  useLayoutEffect(() => {\n    fetch(`${VIDEO_URL}${videoID}`)\n      .then(res => res.json())\n      .then(({ items }) => {\n        setVideoInfo(items[0].snippet);\n      });\n  }, [videoID])\n\n  return (\n    <div className={style.PlayPage}>\n      <ul>\n        <li><Link to=\"/\">首頁</Link></li>\n        <li><Link to=\"/favorite\">收藏頁</Link></li>\n      </ul>\n      <h1>{videoInfo.title}</h1>\n      <div className={style.Player}>\n        <ReactPlayer\n          controls\n          playsinline\n          ref={player}\n          playing={playing}\n          onPause={handlePause}\n          url='https://bitdash-a.akamaihd.net/content/MI201109210084_1/m3u8s/f08e80da-bf1d-4e3d-8899-f0f6155f6efa.m3u8'\n        />\n        {enableAD &&\n          <div className={style.AD}>\n            <h3>AD</h3>\n            <button onClick={handleResume}>close AD</button>\n          </div>\n        }\n      </div>\n      <button onClick={handleSeek.bind(this, 15)}>forward 15sec</button>\n      <button onClick={handleSeek.bind(this, -15)}>back 15sec</button>\n      <div>{videoInfo.description}</div>\n    </div>\n  )\n}\n\n/** refs: https://github.com/cookpete/react-player/issues/724#issuecomment-541413917 */","/** 自訂元件 */\nimport { VideoItem } from \"components\";\n\n/** 樣式 */\nimport style from './style.module.scss';\n\nexport const FavoritePage = props => {\n\n  const { favoriteVideo, updateFavoriteVideo } = props;\n\n  const removeFavorite = video => {\n    delete favoriteVideo[video.id];\n    updateFavoriteVideo(favoriteVideo);\n  }\n\n  return (\n    <div className={style.FavoritePage}>\n      <div className={style.title}>收藏頁</div>\n      {Object.keys(favoriteVideo).map(videoID =>\n        <VideoItem\n          isFavorited\n          key={videoID}\n          {...favoriteVideo[videoID]}\n          onClick={removeFavorite}\n        />\n      )}\n    </div>\n  )\n}\n","import { useState } from \"react\";\n\nimport {\n  Route,\n  Switch,\n  HashRouter as Router,\n} from \"react-router-dom\";\nimport style from './App.module.scss';\n\n/** 頁面 */\nimport {\n  HomePage,\n  PlayPage,\n  FavoritePage,\n} from \"pages\";\n\n/** 自訂元件 */\nimport { NavHeader } from \"components\";\n\nfunction App() {\n\n  const [favoriteVideo, setFavoriteVideo] = useState(JSON.parse(localStorage.getItem('favoriteVideo')) ?? {});\n\n  const updateFavoriteVideo = favoriteVideo => {\n    localStorage.setItem('favoriteVideo', JSON.stringify(favoriteVideo));\n\n    /** 這邊使用 ... 來設定新的記憶體位置，不然不會觸發 render */\n    setFavoriteVideo({...favoriteVideo});\n  }\n\n  return (\n    <Router>\n      <NavHeader />\n      <div className={style.App}>\n        <Switch>\n          <Route exact path=\"/play\"><PlayPage /></Route>\n          <Route exact path=\"/favorite\">\n            <FavoritePage {...{ favoriteVideo, updateFavoriteVideo }} />\n          </Route>\n          <Route exact path=\"/\">\n            <HomePage {...{ favoriteVideo, updateFavoriteVideo }} />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App />,\n  // <React.StrictMode>\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}